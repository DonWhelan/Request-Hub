{"filter":false,"title":"selectModel_requestAddDropD.php","tooltip":"/model/selectModel_requestAddDropD.php","undoManager":{"mark":63,"position":63,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["<"],"id":1},{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["?"]}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":2},"action":"remove","lines":["<?"],"id":2},{"start":{"row":0,"column":0},"end":{"row":92,"column":2},"action":"insert","lines":["<?php","","    function select_prepared_teamEdit($dir,$company) {","","        include($dir.\"../pem/sqlSelect.php\");","        $connection = mysqli_connect(sHOST, sUSER, sPASS);","        if (!$connection) {","            trigger_error(\"Could not reach database!<br/>\");","            error_log(\"Could not connect! select_prepared_teamEdit(),\", 0);","            exit();","        }","        $db_selected = mysqli_select_db($connection, sDB);","        if (!$db_selected) {","            trigger_error(\"Could not reach database!<br/>\");","            error_log(\"Could not connect! select_prepared_teamEdit(),\", 0);","            exit();","        }","        /* check connection */","        if (mysqli_connect_errno($connection)) {","            error_log(\"Could not connect! select_prepared_teamEdit(),\", 0);","            printf(\"Connect failed: %s\\n\", mysqli_connect_error());","            exit();","        }","        ","        /*","         * We have created a view of the users table called userLogonView. It only has access to username and password colums,","         * if details of the query were exploited only u-name and p-word would be exposed and no other personal information.","         */","","        if ($stmt = mysqli_prepare($connection, \"SELECT uid, teamName, role FROM Teams WHERE owningCompany = ?\")) {","            mysqli_stmt_bind_param($stmt, \"s\", $company);","            mysqli_stmt_execute($stmt);","            $uid = \"\";","            $resultTeamName = \"\";","            $resultRole = \"\";","            mysqli_stmt_bind_result($stmt, $uid, $resultTeamName, $resultRole);   ","            while (mysqli_stmt_fetch($stmt)) {","                echo \"<li class='list-group-item'>","                      <b>\".$resultTeamName . \"</b>: \" . $resultRole.\"<a href='teamEditAmend.php?uid=\".$uid.\"'><button class='btn btn-outline-success btn-xs float-right' type='submit'>edit</button>\".","                      \"</a></li>\";","            }","            mysqli_stmt_close($stmt);","        }","       mysqli_close($connection);","    }","    ","   function select_prepared_teamEdit_byUID($dir,$uidFromURL) {","","        include($dir.\"../pem/sqlSelect.php\");","        $connection = mysqli_connect(sHOST, sUSER, sPASS);","        if (!$connection) {","            trigger_error(\"Could not reach database!<br/>\");","            error_log(\"Could not connect! select_prepared_teamEdit_byUID(),\", 0);","            exit();","        }","        $db_selected = mysqli_select_db($connection, sDB);","        if (!$db_selected) {","            trigger_error(\"Could not reach database!<br/>\");","            error_log(\"Could not connect! select_prepared_teamEdit_byUID(),\", 0);","            exit();","        }","        /* check connection */","        if (mysqli_connect_errno($connection)) {","            error_log(\"Could not connect! select_prepared_teamEdit_byUID(),\", 0);","            printf(\"Connect failed: %s\\n\", mysqli_connect_error());","            exit();","        }","        ","        /*","         * We have created a view of the users table called userLogonView. It only has access to username and password colums,","         * if details of the query were exploited only u-name and p-word would be exposed and no other personal information.","         */","        $uid = mysqli_real_escape_string($connection,trim($uidFromURL));","        if ($stmt = mysqli_prepare($connection, \"SELECT teamName, role FROM Teams WHERE uid = ?\")) {","            mysqli_stmt_bind_param($stmt, \"i\", $uid);","            mysqli_stmt_execute($stmt);","            $resultTeamName = \"\";","            $resultRole = \"\";","            $array = [];","            mysqli_stmt_bind_result($stmt, $resultTeamName, $resultRole);   ","            while (mysqli_stmt_fetch($stmt)) {","                $array = [\"teamName\" => $resultTeamName, \"role\" => $resultRole];","            }","            return $array;","            mysqli_stmt_close($stmt);","        }else{","            error_log(\"Could not retrive results! select_prepared_teamEdit_byUID(),\", 0);","            return $array = [\"teamName\" => null, \"role\" => null];","        }","       mysqli_close($connection);","    }    ","    ","?>"]}],[{"start":{"row":29,"column":56},"end":{"row":29,"column":59},"action":"remove","lines":["uid"],"id":4},{"start":{"row":29,"column":55},"end":{"row":29,"column":56},"action":"remove","lines":[" "]}],[{"start":{"row":29,"column":67},"end":{"row":29,"column":71},"action":"remove","lines":["role"],"id":5},{"start":{"row":29,"column":66},"end":{"row":29,"column":67},"action":"remove","lines":[" "]},{"start":{"row":29,"column":65},"end":{"row":29,"column":66},"action":"remove","lines":[","]}],[{"start":{"row":35,"column":43},"end":{"row":35,"column":47},"action":"remove","lines":["$uid"],"id":6},{"start":{"row":35,"column":42},"end":{"row":35,"column":43},"action":"remove","lines":[" "]},{"start":{"row":35,"column":41},"end":{"row":35,"column":42},"action":"remove","lines":[","]}],[{"start":{"row":35,"column":60},"end":{"row":35,"column":71},"action":"remove","lines":["$resultRole"],"id":7},{"start":{"row":35,"column":59},"end":{"row":35,"column":60},"action":"remove","lines":[" "]},{"start":{"row":35,"column":58},"end":{"row":35,"column":59},"action":"remove","lines":[","]}],[{"start":{"row":34,"column":0},"end":{"row":34,"column":29},"action":"remove","lines":["            $resultRole = \"\";"],"id":8},{"start":{"row":33,"column":33},"end":{"row":34,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":22},"action":"remove","lines":["            $uid = \"\";"],"id":9},{"start":{"row":31,"column":39},"end":{"row":32,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":35,"column":22},"end":{"row":35,"column":50},"action":"remove","lines":["<li class='list-group-item'>"],"id":10},{"start":{"row":35,"column":22},"end":{"row":35,"column":56},"action":"insert","lines":["<option value=\"audi\">Audi</option>"]}],[{"start":{"row":35,"column":36},"end":{"row":35,"column":37},"action":"remove","lines":["\""],"id":11}],[{"start":{"row":35,"column":36},"end":{"row":35,"column":37},"action":"insert","lines":["'"],"id":12}],[{"start":{"row":35,"column":41},"end":{"row":35,"column":42},"action":"remove","lines":["\""],"id":13}],[{"start":{"row":35,"column":41},"end":{"row":35,"column":42},"action":"insert","lines":["'"],"id":14}],[{"start":{"row":35,"column":37},"end":{"row":35,"column":38},"action":"insert","lines":["\""],"id":15},{"start":{"row":35,"column":38},"end":{"row":35,"column":39},"action":"insert","lines":["\""]}],[{"start":{"row":35,"column":38},"end":{"row":35,"column":39},"action":"insert","lines":["."],"id":16},{"start":{"row":35,"column":39},"end":{"row":35,"column":40},"action":"insert","lines":["."]}],[{"start":{"row":35,"column":39},"end":{"row":35,"column":54},"action":"insert","lines":["$resultTeamName"],"id":17}],[{"start":{"row":35,"column":59},"end":{"row":35,"column":60},"action":"remove","lines":["i"],"id":18},{"start":{"row":35,"column":58},"end":{"row":35,"column":59},"action":"remove","lines":["d"]},{"start":{"row":35,"column":57},"end":{"row":35,"column":58},"action":"remove","lines":["u"]},{"start":{"row":35,"column":56},"end":{"row":35,"column":57},"action":"remove","lines":["a"]}],[{"start":{"row":35,"column":58},"end":{"row":35,"column":62},"action":"remove","lines":["Audi"],"id":19}],[{"start":{"row":35,"column":58},"end":{"row":35,"column":59},"action":"insert","lines":["\""],"id":20},{"start":{"row":35,"column":59},"end":{"row":35,"column":60},"action":"insert","lines":["\""]}],[{"start":{"row":35,"column":59},"end":{"row":35,"column":60},"action":"insert","lines":["."],"id":21},{"start":{"row":35,"column":60},"end":{"row":35,"column":61},"action":"insert","lines":["."]}],[{"start":{"row":35,"column":60},"end":{"row":35,"column":75},"action":"insert","lines":["$resultTeamName"],"id":22}],[{"start":{"row":35,"column":86},"end":{"row":37,"column":33},"action":"remove","lines":["","                      <b>\".$resultTeamName . \"</b>: \" . $resultRole.\"<a href='teamEditAmend.php?uid=\".$uid.\"'><button class='btn btn-outline-success btn-xs float-right' type='submit'>edit</button>\".","                      \"</a></li>\""],"id":23},{"start":{"row":35,"column":86},"end":{"row":35,"column":87},"action":"insert","lines":["\""]}],[{"start":{"row":2,"column":29},"end":{"row":2,"column":37},"action":"remove","lines":["teamEdit"],"id":24},{"start":{"row":2,"column":29},"end":{"row":2,"column":30},"action":"insert","lines":["t"]},{"start":{"row":2,"column":30},"end":{"row":2,"column":31},"action":"insert","lines":["e"]},{"start":{"row":2,"column":31},"end":{"row":2,"column":32},"action":"insert","lines":["a"]},{"start":{"row":2,"column":32},"end":{"row":2,"column":33},"action":"insert","lines":["m"]},{"start":{"row":2,"column":33},"end":{"row":2,"column":34},"action":"insert","lines":["D"]},{"start":{"row":2,"column":34},"end":{"row":2,"column":35},"action":"insert","lines":["r"]},{"start":{"row":2,"column":35},"end":{"row":2,"column":36},"action":"insert","lines":["o"]},{"start":{"row":2,"column":36},"end":{"row":2,"column":37},"action":"insert","lines":["p"]}],[{"start":{"row":2,"column":37},"end":{"row":2,"column":38},"action":"insert","lines":["D"],"id":25},{"start":{"row":2,"column":38},"end":{"row":2,"column":39},"action":"insert","lines":["o"]},{"start":{"row":2,"column":39},"end":{"row":2,"column":40},"action":"insert","lines":["w"]},{"start":{"row":2,"column":40},"end":{"row":2,"column":41},"action":"insert","lines":["m"]}],[{"start":{"row":2,"column":40},"end":{"row":2,"column":41},"action":"remove","lines":["m"],"id":26}],[{"start":{"row":2,"column":40},"end":{"row":2,"column":41},"action":"insert","lines":["n"],"id":27}],[{"start":{"row":33,"column":62},"end":{"row":33,"column":63},"action":"remove","lines":[" "],"id":28},{"start":{"row":33,"column":62},"end":{"row":34,"column":0},"action":"insert","lines":["",""]},{"start":{"row":34,"column":0},"end":{"row":34,"column":12},"action":"insert","lines":["            "]},{"start":{"row":34,"column":12},"end":{"row":34,"column":13},"action":"insert","lines":["e"]},{"start":{"row":34,"column":13},"end":{"row":34,"column":14},"action":"insert","lines":["c"]},{"start":{"row":34,"column":14},"end":{"row":34,"column":15},"action":"insert","lines":["h"]}],[{"start":{"row":34,"column":15},"end":{"row":34,"column":16},"action":"insert","lines":["o"],"id":29}],[{"start":{"row":34,"column":16},"end":{"row":34,"column":17},"action":"insert","lines":["\""],"id":30},{"start":{"row":34,"column":17},"end":{"row":34,"column":18},"action":"insert","lines":["\""]},{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"insert","lines":[";"]}],[{"start":{"row":34,"column":17},"end":{"row":34,"column":18},"action":"insert","lines":["<"],"id":31},{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"insert","lines":[">"]}],[{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"insert","lines":["h"],"id":32},{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"insert","lines":["1"]}],[{"start":{"row":34,"column":20},"end":{"row":34,"column":21},"action":"remove","lines":[">"],"id":33},{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"remove","lines":["1"]},{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"remove","lines":["h"]},{"start":{"row":34,"column":17},"end":{"row":34,"column":18},"action":"remove","lines":["<"]}],[{"start":{"row":34,"column":17},"end":{"row":34,"column":18},"action":"insert","lines":["h"],"id":34},{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"insert","lines":["e"]},{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"insert","lines":["l"]},{"start":{"row":34,"column":20},"end":{"row":34,"column":21},"action":"insert","lines":["l"]},{"start":{"row":34,"column":21},"end":{"row":34,"column":22},"action":"insert","lines":["o"]}],[{"start":{"row":0,"column":5},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":35},{"start":{"row":0,"column":5},"end":{"row":1,"column":0},"action":"insert","lines":["",""]},{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":4},"action":"insert","lines":["    "],"id":36}],[{"start":{"row":88,"column":7},"end":{"row":88,"column":9},"action":"remove","lines":["  "],"id":37},{"start":{"row":88,"column":7},"end":{"row":89,"column":0},"action":"insert","lines":["",""]},{"start":{"row":89,"column":0},"end":{"row":89,"column":4},"action":"insert","lines":["    "]},{"start":{"row":89,"column":4},"end":{"row":90,"column":0},"action":"insert","lines":["",""]},{"start":{"row":90,"column":0},"end":{"row":90,"column":4},"action":"insert","lines":["    "]},{"start":{"row":90,"column":4},"end":{"row":91,"column":0},"action":"insert","lines":["",""]},{"start":{"row":91,"column":0},"end":{"row":91,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":91,"column":4},"end":{"row":91,"column":32},"action":"insert","lines":["select_prepared_teamDropDown"],"id":38}],[{"start":{"row":91,"column":32},"end":{"row":91,"column":34},"action":"insert","lines":["()"],"id":39}],[{"start":{"row":91,"column":33},"end":{"row":91,"column":34},"action":"insert","lines":[";"],"id":40}],[{"start":{"row":91,"column":35},"end":{"row":91,"column":37},"action":"insert","lines":["''"],"id":41}],[{"start":{"row":91,"column":35},"end":{"row":91,"column":37},"action":"remove","lines":["''"],"id":42}],[{"start":{"row":91,"column":35},"end":{"row":91,"column":36},"action":"insert","lines":[";"],"id":43}],[{"start":{"row":91,"column":33},"end":{"row":91,"column":34},"action":"remove","lines":[";"],"id":44}],[{"start":{"row":91,"column":33},"end":{"row":91,"column":34},"action":"insert","lines":["."],"id":45},{"start":{"row":91,"column":34},"end":{"row":91,"column":35},"action":"insert","lines":["."]},{"start":{"row":91,"column":35},"end":{"row":91,"column":36},"action":"insert","lines":["/"]}],[{"start":{"row":91,"column":35},"end":{"row":91,"column":36},"action":"remove","lines":["/"],"id":46},{"start":{"row":91,"column":34},"end":{"row":91,"column":35},"action":"remove","lines":["."]},{"start":{"row":91,"column":33},"end":{"row":91,"column":34},"action":"remove","lines":["."]}],[{"start":{"row":91,"column":33},"end":{"row":91,"column":35},"action":"insert","lines":["\"\""],"id":47}],[{"start":{"row":91,"column":34},"end":{"row":91,"column":35},"action":"insert","lines":["."],"id":48},{"start":{"row":91,"column":35},"end":{"row":91,"column":36},"action":"insert","lines":["."]},{"start":{"row":91,"column":36},"end":{"row":91,"column":37},"action":"insert","lines":["/"]}],[{"start":{"row":91,"column":38},"end":{"row":91,"column":39},"action":"insert","lines":["."],"id":49},{"start":{"row":91,"column":39},"end":{"row":91,"column":40},"action":"insert","lines":["d"]},{"start":{"row":91,"column":40},"end":{"row":91,"column":41},"action":"insert","lines":["o"]}],[{"start":{"row":91,"column":40},"end":{"row":91,"column":41},"action":"remove","lines":["o"],"id":50},{"start":{"row":91,"column":39},"end":{"row":91,"column":40},"action":"remove","lines":["d"]}],[{"start":{"row":91,"column":39},"end":{"row":91,"column":40},"action":"insert","lines":["D"],"id":51},{"start":{"row":91,"column":40},"end":{"row":91,"column":41},"action":"insert","lines":["o"]},{"start":{"row":91,"column":41},"end":{"row":91,"column":42},"action":"insert","lines":["n"]},{"start":{"row":91,"column":42},"end":{"row":91,"column":43},"action":"insert","lines":["."]},{"start":{"row":91,"column":43},"end":{"row":91,"column":44},"action":"insert","lines":["i"]},{"start":{"row":91,"column":44},"end":{"row":91,"column":45},"action":"insert","lines":["n"]},{"start":{"row":91,"column":45},"end":{"row":91,"column":46},"action":"insert","lines":["c"]}],[{"start":{"row":91,"column":46},"end":{"row":91,"column":47},"action":"insert","lines":["\""],"id":52}],[{"start":{"row":91,"column":39},"end":{"row":91,"column":40},"action":"insert","lines":["\""],"id":53}],[{"start":{"row":91,"column":37},"end":{"row":91,"column":38},"action":"insert","lines":["."],"id":54},{"start":{"row":91,"column":38},"end":{"row":91,"column":39},"action":"insert","lines":["."]},{"start":{"row":91,"column":39},"end":{"row":91,"column":40},"action":"insert","lines":["/"]}],[{"start":{"row":91,"column":39},"end":{"row":91,"column":40},"action":"remove","lines":["/"],"id":55},{"start":{"row":91,"column":38},"end":{"row":91,"column":39},"action":"remove","lines":["."]},{"start":{"row":91,"column":37},"end":{"row":91,"column":38},"action":"remove","lines":["."]},{"start":{"row":91,"column":36},"end":{"row":91,"column":37},"action":"remove","lines":["/"]},{"start":{"row":91,"column":35},"end":{"row":91,"column":36},"action":"remove","lines":["."]},{"start":{"row":91,"column":34},"end":{"row":91,"column":35},"action":"remove","lines":["."]}],[{"start":{"row":44,"column":2},"end":{"row":88,"column":7},"action":"remove","lines":[" function select_prepared_teamEdit_byUID($dir,$uidFromURL) {","","        include($dir.\"../pem/sqlSelect.php\");","        $connection = mysqli_connect(sHOST, sUSER, sPASS);","        if (!$connection) {","            trigger_error(\"Could not reach database!<br/>\");","            error_log(\"Could not connect! select_prepared_teamEdit_byUID(),\", 0);","            exit();","        }","        $db_selected = mysqli_select_db($connection, sDB);","        if (!$db_selected) {","            trigger_error(\"Could not reach database!<br/>\");","            error_log(\"Could not connect! select_prepared_teamEdit_byUID(),\", 0);","            exit();","        }","        /* check connection */","        if (mysqli_connect_errno($connection)) {","            error_log(\"Could not connect! select_prepared_teamEdit_byUID(),\", 0);","            printf(\"Connect failed: %s\\n\", mysqli_connect_error());","            exit();","        }","        ","        /*","         * We have created a view of the users table called userLogonView. It only has access to username and password colums,","         * if details of the query were exploited only u-name and p-word would be exposed and no other personal information.","         */","        $uid = mysqli_real_escape_string($connection,trim($uidFromURL));","        if ($stmt = mysqli_prepare($connection, \"SELECT teamName, role FROM Teams WHERE uid = ?\")) {","            mysqli_stmt_bind_param($stmt, \"i\", $uid);","            mysqli_stmt_execute($stmt);","            $resultTeamName = \"\";","            $resultRole = \"\";","            $array = [];","            mysqli_stmt_bind_result($stmt, $resultTeamName, $resultRole);   ","            while (mysqli_stmt_fetch($stmt)) {","                $array = [\"teamName\" => $resultTeamName, \"role\" => $resultRole];","            }","            return $array;","            mysqli_stmt_close($stmt);","        }else{","            error_log(\"Could not retrive results! select_prepared_teamEdit_byUID(),\", 0);","            return $array = [\"teamName\" => null, \"role\" => null];","        }","       mysqli_close($connection);","    }  "],"id":56},{"start":{"row":44,"column":1},"end":{"row":44,"column":2},"action":"remove","lines":[" "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":1},"action":"remove","lines":[" "]},{"start":{"row":43,"column":4},"end":{"row":44,"column":0},"action":"remove","lines":["",""]},{"start":{"row":43,"column":0},"end":{"row":43,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":30,"column":55},"end":{"row":30,"column":56},"action":"remove","lines":[","],"id":57}],[{"start":{"row":46,"column":35},"end":{"row":46,"column":36},"action":"remove","lines":["."],"id":58}],[{"start":{"row":46,"column":35},"end":{"row":46,"column":36},"action":"insert","lines":[","],"id":59}],[{"start":{"row":46,"column":34},"end":{"row":46,"column":35},"action":"insert","lines":["."],"id":60},{"start":{"row":46,"column":35},"end":{"row":46,"column":36},"action":"insert","lines":["."]},{"start":{"row":46,"column":36},"end":{"row":46,"column":37},"action":"insert","lines":["/"]}],[{"start":{"row":46,"column":0},"end":{"row":46,"column":50},"action":"remove","lines":["    select_prepared_teamDropDown(\"../\",\"Don.inc\");"],"id":61},{"start":{"row":45,"column":4},"end":{"row":46,"column":0},"action":"remove","lines":["",""]},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"remove","lines":["    "]},{"start":{"row":44,"column":4},"end":{"row":45,"column":0},"action":"remove","lines":["",""]},{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"remove","lines":["    "]},{"start":{"row":43,"column":0},"end":{"row":44,"column":0},"action":"remove","lines":["",""]},{"start":{"row":42,"column":5},"end":{"row":43,"column":0},"action":"remove","lines":["",""]},{"start":{"row":42,"column":4},"end":{"row":42,"column":5},"action":"remove","lines":["}"]}],[{"start":{"row":42,"column":4},"end":{"row":42,"column":5},"action":"insert","lines":["}"],"id":62}],[{"start":{"row":9,"column":42},"end":{"row":9,"column":66},"action":"remove","lines":["select_prepared_teamEdit"],"id":63},{"start":{"row":9,"column":42},"end":{"row":9,"column":70},"action":"insert","lines":["select_prepared_teamDropDown"]}],[{"start":{"row":15,"column":42},"end":{"row":15,"column":66},"action":"remove","lines":["select_prepared_teamEdit"],"id":64},{"start":{"row":15,"column":42},"end":{"row":15,"column":70},"action":"insert","lines":["select_prepared_teamDropDown"]}],[{"start":{"row":20,"column":42},"end":{"row":20,"column":66},"action":"remove","lines":["select_prepared_teamEdit"],"id":65},{"start":{"row":20,"column":42},"end":{"row":20,"column":70},"action":"insert","lines":["select_prepared_teamDropDown"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":25,"column":10},"end":{"row":25,"column":10},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":80,"mode":"ace/mode/php"}},"timestamp":1524741324059,"hash":"fb28af14ccc07d8c680552816391852368d994da"}